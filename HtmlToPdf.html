<!DOCTYPE html>
<html>
<head>
  <title>Generate PDF with Chart</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.js"></script>
  <style>
    body {
        background: rgb(204, 204, 204);
    }

    page[size="A4"] {
        background: white;
        width: 21cm;
        display: block;
        margin: 0 auto;
        box-shadow: 0 0 0.5cm rgba(0, 0, 0, 0.5);
        padding: 15px 15px 0 15px;
    }

    @media print {

        body,
        page[size="A4"] {
            margin: 0;
            box-shadow: none;
        }

        body {
            color-adjust: exact;
            -webkit-print-color-adjust: exact;
            -moz-print-color-adjust: exact;
        }

        .footer-p {
            background-color: #04275a;
            padding: 15px;
            text-align: center;
            font-size: 16px;
            font-weight: 500;
            color: white;
            margin-top: 35px;
            position: fixed;
            bottom: 0;
            padding-top: 10px;

        }

        .break-page-after {
            page-break-after: always;
        }

        .break-page-before {
            page-break-before: always;
            margin-top: 30px;
        }
    }

    .main-heading {
        font-size: 40px;
        font-weight: 500;
        color: #04275a;
    }

    .logo {
        width: 133px;
        height: auto;
        object-fit: contain;
        object-position: center;
    }

    .box {
        background-color: #04275a;
        padding: 15px;
    }

    .sub-heading {
        font-size: 20px;
        color: white;
        font-weight: 500;
        margin: 0;
    }

    .span-heading {
        font-size: 17px;
        color: white;
        margin: 0;

    }

    .heading-back {
        background-color: #04275a;
        padding: 10px 100px;
        display: inline-block;
    }

    .side-div {
        border: 1px solid #04275a;
        border-radius: 10px;
        line-height: 1.3;
        padding: 10px;
        color: #04275a;
        margin-bottom: 20px;
        box-shadow: 0px 7px 12px rgba(0, 0, 0, 0.25);
    }

    .side-div h3 {
        font-size: 16px;
        font-weight: 500;
        margin: 0;
    }

    .side-div p {
        font-size: 30px;
        font-weight: 600;
        margin-bottom: 5px;
        margin-top: 0;

    }

    .table>:not(caption)>*>* {
        padding: 0.5rem 0.5rem;
        background-color: var(--bs-table-bg);
        border-bottom-width: 1px;
        box-shadow: inset 0 0 0 9999px var(--bs-table-accent-bg);
    }

    .table {
        border-spacing: 0px 20px;
        border-collapse: separate;
    }

    thead tr {
        background-color: #04275a;
        color: white;
    }

    tbody tr {
        background-color: transparent;
        border: 1px solid #ececec;
        box-shadow: -1px 1px 8px rgb(0 0 0 / 16%);
    }

    .low-span {
        background-color: #65B94C;
        border: 1px solid black;
        border-radius: 10px;
        padding: 5px 15px;
        color: white;
    }

    .high-span {
        background-color: #FF2B2B;
        border: 1px solid black;
        border-radius: 10px;
        padding: 5px 15px;
        color: white;
    }

    .footer-p {
        background-color: #04275a;
        padding: 15px;
        text-align: center;
        font-size: 16px;
        font-weight: 500;
        color: white;
        margin-top: 15px;
        margin-bottom: 0;

    }

    .d-flex {
        display: flex;
    }

    .justify-content-between {
        justify-content: space-between;
    }

    .align-items-center {
        align-items: center;
    }

    .align-items-start {
        align-items: flex-start;
    }

    .w-100 {
        width: 100%;
    }

    .w-75 {
        width: 75%;
    }

    .w-50 {
        width: 50%;
    }

    .w-25 {
        width: 25%;
    }

    .mt-5 {
        margin-top: 3rem;
    }

    .mt-3 {
        margin-top: 1rem;
    }

    .me-5 {
        margin-right: 3rem;
    }

    .mt-4 {
        margin-top: 1.5rem;
    }

    .me-2 {
        margin-right: 0.5rem;
    }

    .ms-2 {
        margin-left: 0.5rem;
    }
</style>
</head>
<body>
  <button onclick="generatePDF()">Download PDF</button>
  <page size="A4">
  <div id="content">
      <div class="">
          <div class="d-flex justify-content-between align-items-center py-3">
              <h1 class="main-heading">Status Report</h1>
              <img src="logo.png" alt="" class="img-fluid logo">
          </div>
          <div class="d-flex justify-content-between box">
              <div class="w-50">
                  <div class="d-flex align-items-start">
                      <h2 class="sub-heading me-2">Duration:</h2>
                      <span class="span-heading ms-2">June 1, 2023 </span>
                      <span class="span-heading ms-2 me-2">-</span>
                      <span class="span-heading ms-2">June 30, 2023</span>
                  </div>
              </div>
              <div class="w-50">
                  <div class="d-flex align-items-start">
                      <h2 class="sub-heading me-2 w-100">Site Name:</h2>
                      <p class="span-heading">
                          Demo Site A
                      </p>
                  </div>
              </div>

          </div>
          <div class="d-flex justify-content-between mt-4">
              <div class="w-75 me-5">
                  <div>
                      <h2 class="sub-heading heading-back">Plot</h2>
                      <div class="mt-3">
                          <canvas id="chart-1"></canvas>
                      </div>
                  </div>
                  <div class="mt-5">
                      <h2 class="sub-heading heading-back">PR</h2>
                      <div class="mt-3">
                          <canvas id="chart-2"></canvas>
                      </div>
                  </div>
                  <div class="table-responsive break-page-before">
                      <table class="table">
                          <thead>
                              <tr>
                                  <th>ID</th>
                                  <th>Site</th>
                                  <th>Events</th>
                                  <th>Alarm Start Date</th>
                                  <th>Alarm Status</th>
                                  <th>Elapsed Time</th>
                                  <th>Priority</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>1051</td>
                                  <td>Demo Site A</td>
                                  <td>Grid Power Outage</td>
                                  <td>June 1, 2023 4:13 p.m </td>
                                  <td><span class="low-span">Cleared</span></td>
                                  <td>June 1, 2023 6:07 p.m</td>
                                  <td>Critical</td>
                              </tr>
                              <tr>
                                  <td>1051</td>
                                  <td>Demo Site B</td>
                                  <td>Grid Power Outage</td>
                                  <td>June 1, 2023 5:14 p.m </td>
                                  <td><span class="low-span">Cleared</span></td>
                                  <td>June 1, 2023 7:35 p.m</td>
                                  <td>Critical</td>
                              </tr>
                              <tr>
                                  <td>1051</td>
                                  <td>Demo Site C</td>
                                  <td>Grid Power Outage</td>
                                  <td>June 1, 2023 3:13 p.m </td>
                                  <td><span class="low-span">Cleared</span></td>
                                  <td>June 1, 2023 6:07 p.m</td>
                                  <td>Critical</td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
              </div>
              <div class="w-25">
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>578.51</p>
                          <h3><i class="fas fa-bolt"></i></h3>
                      </div>
                      <h3>Total Generation</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>0.56</p>
                          <h3><i class="fas fa-percent"></i></h3>
                      </div>
                      <h3>Performance Ratio</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>0.60</p>
                          <h3><i class="fas fa-percent"></i></h3>
                      </div>
                      <h3>Temperature Collective PR</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>44</p>
                          <h3><i class="fas fa-thermometer-full"></i></h3>
                      </div>
                      <h3>Cell Temperature</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>0</p>
                          <h3><i class="fas fa-solar-panel"></i></h3>
                      </div>
                      <h3>Total Curtailed Solar</h3>
                  </div>
                  <div class="side-div break-page-after">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>1035</p>
                          <h3><i class="fas fa-sun"></i></h3>
                      </div>
                      <h3>Total Irradiance (GHI)</h3>
                  </div>
                  <div class="side-div break-page-before">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>1035</p>
                          <h3><i class="fas fa-sun"></i></h3>
                      </div>
                      <h3>Total Irradiance (POA)</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>35</p>
                          <h3><i class="fas fa-money-check-alt"></i></h3>
                      </div>
                      <h3>Grid Rate</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>20247.85</p>
                          <h3><i class="fas fa-dollar-sign"></i></h3>
                      </div>
                      <h3>Savings</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>2576416.5</p>
                          <h3><i class="fas fa-dollar-sign"></i></h3>
                      </div>
                      <h3>Total Savings</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>3.5</p>
                          <h3><i class="fas fa-hand-holding-usd"></i></h3>
                      </div>
                      <h3>Remaining Payback</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>0</p>
                          <h3><i class="fas fa-plug"></i></h3>
                      </div>
                      <h3>Total Grid Consumed</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>578.51</p>
                          <h3><i class="fas fa-solar-panel"></i></h3>
                      </div>
                      <h3>Total Solar Consumed</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>0</p>
                          <h3><i class="fab fa-buromobelexperte"></i></h3>
                      </div>
                      <h3>Total Units Export</h3>
                  </div>
                  <div class="side-div">
                      <div class="d-flex justify-content-between align-items-center">
                          <p>578.51</p>
                          <h3><i class="fas fa-bolt"></i></h3>
                      </div>
                      <h3>Self Consumption</h3>
                  </div>

              </div>
          </div>
          <p class="footer-p">Powered by Enerlytics</p>
      </div>

      <!-- <canvas id="myChart"></canvas> -->
    </div>
  </page>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


  <script>
    function generatePDF() {
      const element = document.getElementById('content');
      html2pdf()
        .set({ margin: 1, filename: 'chart.pdf', image: { type: 'jpeg',quality: 0.99 }, html2canvas: { scale: 3 } })
        .from(element)
        .save();
    }

    const ctx = document.getElementById('myChart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
          label: '# of Votes',
          data: [12, 19, 3, 5, 2, 3],
          backgroundColor: ['red', 'blue', 'yellow', 'green', 'purple', 'orange'],
          borderColor: 'black',
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
  </script>
      <script>
        // ================================= Chart 1 Js =======================//
        const ctx1 = document.getElementById('chart-1');
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['June-2023'],
                datasets: [{
                    label: '# of Votes',
                    data: [1000],
                    backgroundColor: "#04275a",
                    borderColor: "#04275a",
                    borderWidth: 1
                }]
            },
            options: {
                plugins: {
                    legend: {
                        display: false
                    }
                },
                barPercentage: 0.2,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 3000
                    }
                }
            }
        });
        // ================================= Chart 1 Js =======================//
        // ================================= Chart 2 Js =======================//
        const ctx2 = document.getElementById('chart-2');
        new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['June-2023'],
                datasets: [{
                    label: '# of Votes',
                    data: [6],
                    backgroundColor: "#04275a",
                    borderColor: "#04275a",
                    borderWidth: 1
                }]
            },
            options: {
                plugins: {
                    legend: {
                        display: false
                    }
                },
                barPercentage: 0.2,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 18
                    }
                }
            }
        });
        // ================================= Chart 2 Js =======================//
    </script>
</body>
</html>


<!-- ============================================================With Chart=================================================== -->
<!-- <!DOCTYPE html>
<html>
<head>
  <title>Generate PDF with Chart</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <button onclick="generatePDF()">Download PDF</button>
  <div id="content">
    <canvas id="myChart"></canvas>
  </div>

  <script>
    function generatePDF() {
      const element = document.getElementById('content');
      html2pdf()
        .set({ margin: 10, filename: 'chart.pdf', image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 } })
        .from(element)
        .save();
    }
    const ctx = document.getElementById('myChart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
          label: '# of Votes',
          data: [12, 19, 3, 5, 2, 3],
          backgroundColor: ['red', 'blue', 'yellow', 'green', 'purple', 'orange'],
          borderColor: 'black',
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
  </script>
</body>
</html> -->
<!-- ============================================================With Chart=================================================== -->


<!-- ============================================================Without Chart=================================================== -->
<!-- <!DOCTYPE html>
<html>
<head>
  <title>Generate PDF from HTML</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.js"></script>
</head>
<body>
  <button onclick="generatePDF()">Download PDF</button>
  <div id="content">
    Your HTML content with charts goes here 
  </div>

  <script>
    function generatePDF() {
      const element = document.getElementById('content');
      html2pdf()
        .set({ margin: 10, filename: 'chart.pdf', image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 } })
        .from(element)
        .save();
    }
  </script>
</body>
</html> -->
<!-- ============================================================Without Chart=================================================== -->
